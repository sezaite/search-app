(this["webpackJsonpsearch-app"]=this["webpackJsonpsearch-app"]||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(31),s=n.n(c),i=(n(40),n(41),n(10)),o=n.n(i),l=n(14),u=n(12),j=n(32),h=n(34),b=n(16),d=n(35),p=n(15),x=n.n(p);var f=function(e,t){var n="http://localhost:9000/".concat(t);x.a.post(n,e).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},O=n(1);var v=function(e){var t=e.date,n=e.title,a=e.description,r=e.img,c=e.url,s={date:t,title:n,description:a,url:c};return Object(O.jsx)("div",{className:"article-card",style:{backgroundImage:"url(".concat(r,")")},onClick:function(){return f(s,"articles")},children:Object(O.jsx)("div",{className:"article-wrapper",children:Object(O.jsxs)(b.b,{to:{pathname:c},target:"_blank",style:{textDecoration:"none"},children:[Object(O.jsx)("h3",{children:n}),Object(O.jsx)("h6",{children:t}),Object(O.jsx)(d.a,{className:"ellipsis-text",text:a,maxLine:"4",ellipsis:"...",trimRight:!0,basedOn:"letters"})]})})})};var g=function(e){var t=e.data;return Object(O.jsx)("div",{className:"articles-container",children:Object(O.jsx)("div",{className:"row",children:t.map((function(e,t){return Object(O.jsx)(v,{date:e.publishedAt,title:e.title,description:e.description,img:e.image,url:e.url},t)}))})})};function m(e){return e.split("").length<41}function k(){return(k=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.join("+"),e.next=3,x.a.get("https://gnews.io/api/v4/search?q=".concat(n,"&lang=en&max=9&token=4d4bd3ce04b4a34afe4a9f844557a845"));case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){return k.apply(this,arguments)};var y=function(){return Object(O.jsx)("div",{children:"Loading...."})};var N=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(u.a)(c,2),i=s[0],b=s[1],d=Object(a.useState)(""),p=Object(u.a)(d,2),x=p[0],v=p[1],k=Object(a.useState)(""),N=Object(u.a)(k,2),S=N[0],C=N[1],I=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),b(!0),""!==x){e.next=6;break}return C("Please enter your keywords!"),b(!1),e.abrupt("return");case 6:if(n=x,new RegExp("^[a-zA-Z0-9_ ]*$").test(n)){e.next=10;break}return C("Invalid characters"),b(!1),e.abrupt("return");case 10:if(m(x)){e.next=14;break}return C("Input is too long"),b(!1),e.abrupt("return");case 14:w(x.split(" ")).then((function(e){C(""),v([]),r(e.articles),b(!1)})).catch((function(e){console.log(e),b(!1),C("There was a request error")})),f({keywords:x},"search");case 16:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"articles-page",children:[Object(O.jsxs)("div",{className:"search-bar",children:[Object(O.jsx)("h2",{children:"Search for articles"}),""!==S&&Object(O.jsx)("h4",{className:"error-msg",children:S}),Object(O.jsxs)("form",{action:"",children:[Object(O.jsxs)("div",{className:"input",children:[Object(O.jsx)("input",{type:"text",placeholder:"Type what you are looking for...",onChange:function(e){return v(e.target.value)},value:x}),Object(O.jsx)(j.a,{icon:h.a,className:"icon"})]}),Object(O.jsx)("button",{className:"btn",onClick:I,children:"Search"})]})]}),i&&""!==x?Object(O.jsx)(y,{}):Object(O.jsx)(g,{data:n})]})},S=n(3);var C=function(){return Object(O.jsx)(b.a,{children:Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(S.c,{children:Object(O.jsx)(S.a,{exact:!0,path:"/search-app",children:Object(O.jsx)(N,{})})})})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(C,{})}),document.getElementById("root")),I()}},[[67,1,2]]]);
//# sourceMappingURL=main.bb302523.chunk.js.map